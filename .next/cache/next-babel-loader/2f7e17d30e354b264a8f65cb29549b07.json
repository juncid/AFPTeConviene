{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport Head from 'next/head';\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Card } from \"react-bootstrap\";\nimport ampolleta from \"../public/assets/svg/ampolleta.svg\";\nimport backgroundMobile from \"../public/assets/svg/mobiles/backgroundMobile.svg\";\nimport APVForm from \"../components/ApvForm\";\nimport axios from 'axios';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { v4 as uuidv4 } from 'uuid';\nimport joven2 from \"../public/assets/svg/joven2.svg\";\nexport default function Home(props) {\n  const router = useRouter();\n  const bearer = props.bearer;\n  const urlPostSimulacion = props.urlPostSimulacion;\n  const aacento = '\\u00e1';\n  const eacento = '\\u00e9';\n  const iacento = '\\u00ed';\n  const oacento = '\\u00f3';\n  const uacento = '\\u00fa';\n  const enhe = '\\u00f1';\n  const interrogacion = '\\u00BF';\n\n  if (false) {\n    localStorage.setItem('sessionId', props.idSesion);\n    localStorage.setItem('rut', props.rutConsultaRegimen);\n  }\n\n  const headers = {\n    \"Content-Type\": \"application/json\"\n  };\n  const body_eventos_regimenes = {\n    \"sessionId\": props.idSesion,\n    \"eventoId\": 0,\n    \"result0\": 0,\n    \"result1\": 0,\n    \"result2\": 0,\n    \"rut\": props.rutConsultaRegimen\n  };\n  /*\r\n  function conocer_regimen_a(e) {\r\n      e.preventDefault()\r\n      body_eventos_regimenes.EventoId = 5;\r\n        axios\r\n          .post(props.urlIngresarEvento, body_eventos_regimenes, { headers: headers })\r\n          .then((response) => {\r\n              let data = response.data;\r\n                if (data) {\r\n                  router.push({\r\n                      pathname: '/regimenA',\r\n                  })\r\n              }\r\n          })\r\n          .catch(e => {\r\n              console.log(e);\r\n          });\r\n    }\r\n      function conocer_regimen_b(e) {\r\n      e.preventDefault()\r\n      body_eventos_regimenes.EventoId = 6;\r\n          axios\r\n          .post(props.urlIngresarEvento, body_eventos_regimenes, { headers: headers })\r\n          .then((response) => {\r\n              let data = response.data;\r\n                if (data) {\r\n                  router.push({\r\n                      pathname: '/regimenB',\r\n                  })\r\n              }\r\n          })\r\n          .catch(e => {\r\n              console.log(e);\r\n          });\r\n    }\r\n   */\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"container home\",\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"Ahorro Previsional Voluntario | Simula tu APV | AFP Modelo\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: `Aumenta tu sueldo l${iacento}quido, pagando una menor comisi${oacento}n de AFP. Simula tu aumento de sueldo al cambiarte a AFP Modelo.`\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"robots\",\n        content: \"noindex, follow\"\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsx(\"section\", {\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"background\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"row w-100 container-padre calculadora\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"col-12 d-flex justify-content-center mobile\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"container-title\",\n                children: [/*#__PURE__*/_jsx(\"h1\", {\n                  children: \"Conoce cu\\xE1nto\"\n                }), /*#__PURE__*/_jsx(\"h1\", {\n                  children: \"aumentar\\xEDa tu sueldo,\"\n                }), /*#__PURE__*/_jsx(\"h1\", {\n                  children: \"al cambiarte a\"\n                }), /*#__PURE__*/_jsx(\"h1\", {\n                  children: \"AFP Modelo.\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  children: \"\\xDAnete a la AFP con una de las comisiones m\\xE1s bajas del mercado.\"\n                }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"img\", {\n                  src: ampolleta,\n                  alt: \"ampolleta\"\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-sm-12 col-md-5 bloque desktop\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"txtDesktop\",\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"container-title\",\n                  children: [/*#__PURE__*/_jsx(\"h1\", {\n                    children: \"Conoce cu\\xE1nto\"\n                  }), /*#__PURE__*/_jsx(\"h1\", {\n                    children: \"aumentar\\xEDa tu\"\n                  }), /*#__PURE__*/_jsx(\"h1\", {\n                    children: \"sueldo,\"\n                  }), /*#__PURE__*/_jsx(\"h1\", {\n                    className: \"green\",\n                    children: \"al cambiarte a\"\n                  }), /*#__PURE__*/_jsx(\"h1\", {\n                    className: \"green\",\n                    children: \"AFP Modelo.\"\n                  }), /*#__PURE__*/_jsx(\"p\", {\n                    children: \"\\xDAnete a la AFP con una de las comisiones m\\xE1s bajas del mercado.\"\n                  })]\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"col-sm-12  col-md-7 bloque form\",\n              children: /*#__PURE__*/_jsx(APVForm, {\n                token: bearer,\n                urlPostSimulacion: urlPostSimulacion\n              })\n            })]\n          })\n        })\n      })\n    })]\n  });\n}\nexport async function getServerSideProps(context) {\n  const baseUrl = process.env.URI_BACKEND;\n  const apiToken = process.env.URI_GENERATE_TOKEN;\n  const uriIngresarSimulacion = process.env.URI_INGRESAR_SIMULACION;\n  const urlGetToken = `${baseUrl}${apiToken}`;\n  const urlPostSimulacion = `${baseUrl}${uriIngresarSimulacion}`;\n  const rutConsultaRegimen = process.env.RUT_CONSULTA_REGIMEN;\n  const urlIngresarEvento = `${baseUrl}${process.env.URI_ENVIAR_EVENTO}`;\n  const response = await axios.get(urlGetToken);\n  const bearer = await response.data.key;\n  const idSesion = uuidv4();\n\n  if (!bearer) {\n    return {\n      redirect: {\n        destination: '/',\n        permanent: false\n      }\n    };\n  }\n\n  const props = {\n    bearer,\n    urlPostSimulacion,\n    idSesion,\n    rutConsultaRegimen,\n    urlIngresarEvento\n  };\n  return {\n    props: props\n  };\n}","map":{"version":3,"sources":["C:/Users/juanc/source/repos/AFPTeConviene/pages/index.js"],"names":["Head","React","useEffect","useState","Button","Card","ampolleta","backgroundMobile","APVForm","axios","Link","useRouter","v4","uuidv4","joven2","Home","props","router","bearer","urlPostSimulacion","aacento","eacento","iacento","oacento","uacento","enhe","interrogacion","localStorage","setItem","idSesion","rutConsultaRegimen","headers","body_eventos_regimenes","getServerSideProps","context","baseUrl","process","env","URI_BACKEND","apiToken","URI_GENERATE_TOKEN","uriIngresarSimulacion","URI_INGRESAR_SIMULACION","urlGetToken","RUT_CONSULTA_REGIMEN","urlIngresarEvento","URI_ENVIAR_EVENTO","response","get","data","key","redirect","destination","permanent"],"mappings":"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","sourcesContent":["import Head from 'next/head'\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Button, Card } from \"react-bootstrap\";\r\nimport ampolleta from \"../public/assets/svg/ampolleta.svg\";\r\nimport backgroundMobile from \"../public/assets/svg/mobiles/backgroundMobile.svg\";\r\nimport APVForm from \"../components/ApvForm\";\r\nimport axios from 'axios';\r\nimport Link from 'next/link'\r\nimport { useRouter } from 'next/router';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport joven2 from \"../public/assets/svg/joven2.svg\";\r\n\r\n\r\nexport default function Home(props) {\r\n    const router = useRouter()\r\n    const bearer = props.bearer;\r\n    const urlPostSimulacion = props.urlPostSimulacion;\r\n    const aacento = '\\u00e1';\r\n    const eacento = '\\u00e9';\r\n    const iacento = '\\u00ed';\r\n    const oacento = '\\u00f3';\r\n    const uacento = '\\u00fa';\r\n    const enhe = '\\u00f1';\r\n    const interrogacion = '\\u00BF';\r\n\r\n\r\n    if (typeof window !== \"undefined\") {\r\n        localStorage.setItem('sessionId', props.idSesion);\r\n        localStorage.setItem('rut', props.rutConsultaRegimen);\r\n    }\r\n\r\n    const headers = {\r\n        \"Content-Type\": \"application/json\"\r\n    };\r\n\r\n    const body_eventos_regimenes = {\r\n        \"sessionId\": props.idSesion,\r\n        \"eventoId\": 0,\r\n        \"result0\": 0,\r\n        \"result1\": 0,\r\n        \"result2\": 0,\r\n        \"rut\": props.rutConsultaRegimen\r\n    }\r\n\r\n    /*\r\n    function conocer_regimen_a(e) {\r\n        e.preventDefault()\r\n        body_eventos_regimenes.EventoId = 5;\r\n\r\n        axios\r\n            .post(props.urlIngresarEvento, body_eventos_regimenes, { headers: headers })\r\n            .then((response) => {\r\n                let data = response.data;\r\n\r\n                if (data) {\r\n                    router.push({\r\n                        pathname: '/regimenA',\r\n                    })\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n\r\n    }\r\n\r\n\r\n    function conocer_regimen_b(e) {\r\n        e.preventDefault()\r\n        body_eventos_regimenes.EventoId = 6;\r\n\r\n\r\n        axios\r\n            .post(props.urlIngresarEvento, body_eventos_regimenes, { headers: headers })\r\n            .then((response) => {\r\n                let data = response.data;\r\n\r\n                if (data) {\r\n                    router.push({\r\n                        pathname: '/regimenB',\r\n                    })\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n\r\n    }\r\n     */\r\n\r\n    return (\r\n        <div className=\"container home\">\r\n            <Head>\r\n\r\n                <title>Ahorro Previsional Voluntario | Simula tu APV | AFP Modelo</title>\r\n                <meta name=\"description\" content={`Aumenta tu sueldo l${iacento}quido, pagando una menor comisi${oacento}n de AFP. Simula tu aumento de sueldo al cambiarte a AFP Modelo.`} />\r\n                <meta name=\"robots\" content=\"noindex, follow\" />\r\n            </Head>\r\n            <div>\r\n                <section>\r\n                    <div className=\"background\">\r\n                        <div className=\"row w-100 container-padre calculadora\">\r\n                            <div className=\"col-12 d-flex justify-content-center mobile\">\r\n                                <div className=\"container-title\">\r\n                                    <h1>Conoce cuánto</h1>\r\n                                    <h1>aumentaría tu sueldo,</h1>\r\n                                    <h1>al cambiarte a</h1>\r\n                                    <h1>AFP Modelo.</h1>\r\n                                    <p>\r\n                                        Únete a la AFP con una de las comisiones más bajas del mercado.\r\n                                    </p>\r\n                                    <br></br>\r\n                                    <br></br>\r\n                                    <img src={ampolleta} alt=\"ampolleta\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-sm-12 col-md-5 bloque desktop\">\r\n                                <div className=\"txtDesktop\">\r\n                                    <div className=\"container-title\">\r\n                                        <h1>Conoce cuánto</h1>\r\n                                        <h1>aumentaría tu</h1>\r\n                                        <h1>sueldo,</h1>\r\n                                        <h1 className=\"green\">al cambiarte a</h1>\r\n                                        <h1 className=\"green\">AFP Modelo.</h1>\r\n                                        <p>\r\n                                            Únete a la AFP con una de las comisiones más bajas del\r\n                                            mercado.\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-sm-12  col-md-7 bloque form\">\r\n                                <APVForm token={bearer} urlPostSimulacion={urlPostSimulacion} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport async function getServerSideProps(context) {\r\n\r\n    const baseUrl = process.env.URI_BACKEND;\r\n    const apiToken = process.env.URI_GENERATE_TOKEN;\r\n    const uriIngresarSimulacion = process.env.URI_INGRESAR_SIMULACION;\r\n    const urlGetToken = `${baseUrl}${apiToken}`;\r\n    const urlPostSimulacion = `${baseUrl}${uriIngresarSimulacion}`;\r\n    const rutConsultaRegimen = process.env.RUT_CONSULTA_REGIMEN;\r\n    const urlIngresarEvento = `${baseUrl}${process.env.URI_ENVIAR_EVENTO}`\r\n\r\n    const response = await axios\r\n        .get(urlGetToken);\r\n    const bearer = await response.data.key;\r\n    const idSesion = uuidv4();\r\n    if (!bearer) {\r\n        return {\r\n            redirect: {\r\n                destination: '/',\r\n                permanent: false,\r\n            },\r\n        }\r\n    }\r\n\r\n    const props= {\r\n        bearer,\r\n        urlPostSimulacion,\r\n        idSesion,\r\n        rutConsultaRegimen,\r\n        urlIngresarEvento\r\n    }\r\n\r\n    return { props: props }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}