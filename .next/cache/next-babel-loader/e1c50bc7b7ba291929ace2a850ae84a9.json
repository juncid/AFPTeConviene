{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nvar _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport Head from \"next/head\";\nimport mujerSAC from \"../public/assets/svg/mujersac.svg\";\nimport ChanchitoA from \"../public/assets/svg/chanchitoa.svg\";\nimport ChanchitoB from \"../public/assets/svg/chanchitob.svg\";\nimport { Formik, useFormik, Form } from \"formik\";\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchposts } from \"../store/actions/postAction\";\nimport { Card, Col, Table, Spinner } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport ResultadoModal from '../components/ResultadoModal';\nimport MaskedInput from \"react-text-mask\";\nimport { dineroMask } from \"../utils/inputMask\";\nimport { cleanDigitos } from '../utils/cleanInputMask';\nexport var __N_SSP = true;\nexport default function Resultado(props) {\n  _s();\n\n  var aacento = \"\\xE1\";\n  var eacento = \"\\xE9\";\n  var iacento = \"\\xED\";\n  var oacento = \"\\xF3\";\n  var uacento = \"\\xFA\";\n  var enhe = \"\\xF1\";\n  var interrogacion = \"\\xBF\";\n  var comillaIzquierda = \"\\u201C\";\n  var comillaDerecha = \"\\u201D\";\n  var headers = {\n    \"Content-Type\": \"application/json\"\n  };\n\n  var _useState = useState(false),\n      modalShow = _useState[0],\n      setModalShow = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var handleClose = function handleClose() {\n    return setModalShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setModalShow(true);\n  };\n\n  var _useState3 = useState({}),\n      regimenData = _useState3[0],\n      setRegimenData = _useState3[1];\n\n  var initialValues = {\n    ahorro: ''\n  };\n\n  var handleSubmit = function handleSubmit(values) {\n    setIsLoading(true);\n    var nombre = regimenData.nombre !== undefined && regimenData.nombre;\n    var rutPrimero = regimenData.rut !== undefined && regimenData.rut;\n    var rutDv = regimenData.rutDv !== undefined && regimenData.rutDv;\n    var rut = rutPrimero + \"-\" + rutDv;\n    var correo = regimenData.correo !== undefined && regimenData.correo;\n    var celular = regimenData.celular !== undefined && regimenData.celular;\n    var sueldo = regimenData.sueldoLiquidoConsulta !== undefined && regimenData.sueldoLiquidoConsulta;\n    var body = {\n      nombre: nombre,\n      rut: rut,\n      correo: correo,\n      celular: celular,\n      sueldo: sueldo,\n      ahorro: cleanDigitos(values.ahorro)\n    };\n    axios.post(props.urlIngresarSimulacion, body, {\n      headers: headers\n    }).then(function (response) {\n      var data = response.data;\n\n      if (data.idSimulacion) {\n        setRegimenData(data);\n      }\n\n      setIsLoading(false);\n    })[\"catch\"](function (e) {\n      console.log(e);\n    });\n  };\n\n  var validationSchema = Yup.object({\n    ahorro: Yup.string().transform(function (value) {\n      return value.replace(/[^\\d]/g, '');\n    }).matches(/^[0-9]+$/, \"Ingrese el monto en pesos que desea ahorrar desde $1.000.\").test('Sueldo-validacion', \"Ingrese un monto desde $1.000.\", function (value) {\n      return value >= 1000;\n    }).test('Ahorro-validacion', \"El monto del ahorro no puede superar al sueldo ingresado.\", function (value) {\n      var sueldo = regimenData.sueldoLiquidoConsulta !== undefined && regimenData.sueldoLiquidoConsulta;\n      return value <= sueldo;\n    }).required('Por favor ingrese el monto que desea ahorrar desde $1.000.')\n  });\n  var formik = useFormik({\n    initialValues: initialValues,\n    handleSubmit: handleSubmit,\n    validationSchema: validationSchema\n  });\n  useEffect(function () {\n    setRegimenData(props.data);\n  }, []);\n  useEffect(function () {}, [regimenData]);\n  var sueldoLiquido = regimenData.sueldoLiquidoConsulta !== undefined && regimenData.sueldoLiquidoConsulta;\n  var ahorroMensual = regimenData.aporteApv !== undefined && regimenData.aporteApv;\n  var recomendacionApv = regimenData.recomendacionApv !== undefined && regimenData.recomendacionApv;\n  var beneficio = 0;\n  var total = 0;\n  var texto_regimen = '';\n\n  if (recomendacionApv === 'A') {\n    beneficio = regimenData.beneficioRegA;\n    total = ahorroMensual + beneficio;\n    texto_regimen = \"En  base a tu renta mensual y el monto del aporte quieres realizar el 15% de bonificaci\".concat(oacento, \"n por parte del Estado es el que m\").concat(aacento, \"s te conviene.\");\n  } else if (recomendacionApv === 'B') {\n    beneficio = regimenData.beneficioRegB;\n    total = regimenData.sueldoLiquidoConApvregB;\n    texto_regimen = \"En  base a tu renta mensual y el monto del aporte quieres realizar el descuento de tu base tributaria es mayor al aporte del 15% de bonificaci\".concat(oacento, \"n del r\").concat(eacento, \"gimen A.\");\n  }\n\n  var rutPrimero = regimenData.rut !== undefined && regimenData.rut;\n  var rutDv = regimenData.rutDv !== undefined && regimenData.rutDv;\n  var rut = rutPrimero + \"-\" + rutDv;\n  var body_eventos = {\n    \"sessionId\": \"string\",\n    \"eventoId\": 0,\n    \"result0\": regimenData.sueldoLiquidoConApvregA !== undefined && regimenData.sueldoLiquidoConApvregA,\n    \"result1\": regimenData.sueldoLiquidoConApvregB !== undefined && regimenData.sueldoLiquidoConApvregB,\n    \"result2\": 0,\n    \"rut\": rut\n  };\n\n  function contactarme() {\n    body_eventos.EventoId = 8;\n    axios.post(props.urlIngresarEvento, body_eventos, {\n      headers: headers\n    }).then(function (response) {\n      var data = response.data;\n\n      if (data) {\n        window.location.href = \"/solicitud\";\n      }\n    })[\"catch\"](function (e) {\n      console.log(e);\n    });\n  }\n\n  function apertura_afiliado() {\n    body_eventos.EventoId = 10;\n    axios.post(props.urlIngresarEvento, body_eventos, {\n      headers: headers\n    }).then(function (response) {\n      var data = response.data;\n\n      if (data) {\n        window.location.href = \"https://www.afpmodelo.cl/Portal-Afiliado/Operaciones/Ahorro-Previsional-Voluntario/Mi-APV/Abrir-un-APV-Paso1.aspx?acceder&utm_source=QueAPVConviene&utm_medium=referal&utm_campaign=QueAPVConviene&utm_content=BotonAccion\";\n      }\n    })[\"catch\"](function (e) {\n      console.log(e);\n    });\n  }\n\n  var dudas_texto = \"Nuestros ejecutivos pueden asesorarte en l\".concat(iacento, \"nea o v\").concat(iacento, \"a tel\").concat(eacento, \"fonica. Queremos ayudarte a resolver todas tus inquietudes o darte todas las opciones para tu traspaso.\");\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsxs(\"title\", {\n        children: [\"Ahorro Previsional Voluntario | Resultado Simulaci\", oacento, \"n | AFP Modelo\"]\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: \"Aumenta tu sueldo l\".concat(iacento, \"quido, pagando una menor comisi\").concat(oacento, \"n de AFP. Simula tu aumento de sueldo al cambiarte a AFP Modelo.\")\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"robots\",\n        content: \"noindex, follow\"\n      })]\n    }), /*#__PURE__*/_jsx(\"section\", {\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"resultado\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-12 mx-auto text-center header\",\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: recomendacionApv === 'A' ? ChanchitoA : ChanchitoB,\n              alt: recomendacionApv === 'A' ? \"regimen A\" : \"regimen B\"\n            }), /*#__PURE__*/_jsxs(\"h1\", {\n              children: [\"Te recomendamos el r\", eacento, \"gimen \", recomendacionApv]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"d-flex justify-content-center\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                children: texto_regimen\n              })\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-6 offset-md-1 d-flex\",\n            children: /*#__PURE__*/_jsx(Card, {\n              children: /*#__PURE__*/_jsxs(Card.Body, {\n                children: [/*#__PURE__*/_jsxs(Card.Text, {\n                  children: [\"Estos son los datos de tu simulaci\", oacento, \"n:\"]\n                }), isLoading ? /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"w-100 d-flex justify-content-center align-items-center flex-column\",\n                  children: [/*#__PURE__*/_jsx(Spinner, {\n                    animation: \"border\",\n                    role: \"status\",\n                    variant: \"success\",\n                    children: /*#__PURE__*/_jsx(\"span\", {\n                      className: \"sr-only\",\n                      children: \"Loading...\"\n                    })\n                  }), /*#__PURE__*/_jsx(\"span\", {\n                    children: \"Calculando...\"\n                  })]\n                }) : /*#__PURE__*/_jsx(_Fragment, {\n                  children: /*#__PURE__*/_jsxs(Table, {\n                    responsive: true,\n                    className: \"table-borderless\",\n                    children: [/*#__PURE__*/_jsx(\"thead\", {\n                      children: /*#__PURE__*/_jsxs(\"tr\", {\n                        children: [/*#__PURE__*/_jsx(\"th\", {\n                          children: ''\n                        }), /*#__PURE__*/_jsx(\"th\", {\n                          className: \"text-right\",\n                          children: ''\n                        })]\n                      })\n                    }), /*#__PURE__*/_jsxs(\"tbody\", {\n                      children: [/*#__PURE__*/_jsxs(\"tr\", {\n                        children: [/*#__PURE__*/_jsx(\"td\", {\n                          children: \"Rentabilidad AFP Actual:\"\n                        }), /*#__PURE__*/_jsx(\"td\", {\n                          className: \"text-right\",\n                          children: \"Valor A\"\n                        })]\n                      }), /*#__PURE__*/_jsxs(\"tr\", {\n                        children: [/*#__PURE__*/_jsx(\"td\", {\n                          children: \"Rentabilidad AFP Modelo:\"\n                        }), /*#__PURE__*/_jsx(\"td\", {\n                          className: \"text-right\",\n                          children: \"Valor B\"\n                        })]\n                      }), /*#__PURE__*/_jsxs(\"tr\", {\n                        children: [/*#__PURE__*/_jsx(\"td\", {\n                          className: \"green-tabla\",\n                          children: \"Diferencia de rentabilidad:\"\n                        }), /*#__PURE__*/_jsx(\"td\", {\n                          className: \"text-right green-tabla\",\n                          children: \"Valor C\"\n                        })]\n                      }), /*#__PURE__*/_jsxs(\"tr\", {\n                        children: [/*#__PURE__*/_jsxs(\"td\", {\n                          children: [\"Ahorro en comisi\", oacento, \"n\"]\n                        }), /*#__PURE__*/_jsx(\"td\", {\n                          className: \"text-right\",\n                          children: \"VD = (VA-(VB-VC))\"\n                        })]\n                      })]\n                    })]\n                  })\n                })]\n              })\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-md-4 d-flex flex-column calcularApv\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxs(Card, {\n                children: [/*#__PURE__*/_jsx(Card.Header, {\n                  children: /*#__PURE__*/_jsx(\"p\", {\n                    children: \"Calcular tu APV con otro monto:\"\n                  })\n                }), /*#__PURE__*/_jsx(Card.Body, {\n                  children: /*#__PURE__*/_jsx(Formik, {\n                    initialValues: initialValues,\n                    onSubmit: handleSubmit,\n                    validationSchema: validationSchema,\n                    children: function children(formik) {\n                      return /*#__PURE__*/_jsxs(Form, {\n                        className: \"form-inline\",\n                        children: [/*#__PURE__*/_jsxs(\"div\", {\n                          className: \"form-group input-wrapper d-block\",\n                          children: [/*#__PURE__*/_jsx(MaskedInput, _objectSpread({\n                            type: \"text\",\n                            mask: dineroMask,\n                            className: \"form-control form-control-lg \".concat(formik.touched.ahorro ? formik.errors.ahorro ? \"is-invalid\" : \"is-valid\" : \"\"),\n                            id: \"ahorro\",\n                            name: \"ahorro\",\n                            \"aria-describedby\": \"ahorroAyuda\",\n                            placeholder: \"Ahorro Mensual\"\n                          }, formik.getFieldProps('ahorro'))), /*#__PURE__*/_jsx(\"small\", {\n                            id: \"ahorroAyuda\",\n                            className: \"form-text \".concat(formik.touched.ahorro && formik.errors.ahorro && 'is-invalid'),\n                            children: formik.touched.ahorro && formik.errors.ahorro\n                          })]\n                        }), /*#__PURE__*/_jsx(\"div\", {\n                          className: \"d-flex justify-content-center\",\n                          children: /*#__PURE__*/_jsx(\"div\", {\n                            className: \"col justify-content-center d-flex\",\n                            children: /*#__PURE__*/_jsx(\"button\", {\n                              type: \"submit\",\n                              id: \"calcular\",\n                              className: \"volver\",\n                              disabled: !(formik.isValid && formik.dirty),\n                              children: \"Calcular\"\n                            })\n                          })\n                        })]\n                      });\n                    }\n                  })\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"row detalle\",\n              children: /*#__PURE__*/_jsxs(\"small\", {\n                children: [\"*Renta tributable contempla descuentos legales, ahorro al fondo de pensiones (10%), comisi\", oacento, \"n AFP Modelo (0,77%) y salud (7%).**Bonificaci\", oacento, \"n fiscal de un 15% de tu ahorro voluntario mensual con un tope de 6 UTM anuales.\"]\n              })\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row ctas\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-md-4 text-center d-block offset-md-2 container\",\n            children: [/*#__PURE__*/_jsxs(\"p\", {\n              children: [interrogacion, \"Eres afiliado? Haz login para comenzar tu proceso de apertura\"]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"d-flex justify-content-center\",\n              children: /*#__PURE__*/_jsx(\"button\", {\n                type: \"button\",\n                id: \"Apertura_Afiliado\",\n                className: \"btn btn-lg btn-block\",\n                onClick: apertura_afiliado,\n                children: \"Abrir mi APV\"\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-md-5 text-center d-block container\",\n            children: [/*#__PURE__*/_jsxs(\"p\", {\n              children: [interrogacion, \"No eres afiliado? Nuestros ejecutivos te contactaran para asesorarte en la apertura.\"]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"d-flex justify-content-center\",\n              children: /*#__PURE__*/_jsx(\"button\", {\n                type: \"button\",\n                id: \"Apertura_no_Afiliado\",\n                className: \"btn btn-lg btn-block blueBtn\",\n                onClick: contactarme,\n                children: \"Solicitar contacto\"\n              })\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row container-padre dudas\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-2 d-flex desktop\",\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: mujerSAC,\n              alt: \"Dudas\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-sm-12 col-md-6 offset-md-2 d-flex flex-column contenedor\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"txtDesktop parrafo2\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"container-title\",\n                children: [/*#__PURE__*/_jsxs(\"h2\", {\n                  children: [interrogacion, \"A\", uacento, \"n tienes dudas?\"]\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  children: dudas_texto\n                }), /*#__PURE__*/_jsx(\"button\", {\n                  type: \"button\",\n                  id: \"Solicitud_Contacto\",\n                  className: \"btn btn-lg btn-block whiteBtn\",\n                  onClick: contactarme,\n                  children: \"Quiero que me contacten\"\n                })]\n              })\n            })\n          })]\n        })]\n      })\n    })]\n  });\n}\n\n_s(Resultado, \"W0ZGaOO5QtZk3FTveg0RPraNzQw=\", false, function () {\n  return [useFormik];\n});\n\n_c = Resultado;\n\nvar _c;\n\n$RefreshReg$(_c, \"Resultado\");","map":{"version":3,"sources":["C:/Users/juanc/source/repos/AFPTeConviene/pages/resultado.jsx"],"names":["React","useEffect","useState","Head","mujerSAC","ChanchitoA","ChanchitoB","Formik","useFormik","Form","Yup","useDispatch","useSelector","fetchposts","Card","Col","Table","Spinner","axios","ResultadoModal","MaskedInput","dineroMask","cleanDigitos","Resultado","props","aacento","eacento","iacento","oacento","uacento","enhe","interrogacion","comillaIzquierda","comillaDerecha","headers","modalShow","setModalShow","isLoading","setIsLoading","handleClose","handleShow","regimenData","setRegimenData","initialValues","ahorro","handleSubmit","values","nombre","undefined","rutPrimero","rut","rutDv","correo","celular","sueldo","sueldoLiquidoConsulta","body","post","urlIngresarSimulacion","then","response","data","idSimulacion","e","console","log","validationSchema","object","string","transform","value","replace","matches","test","required","formik","sueldoLiquido","ahorroMensual","aporteApv","recomendacionApv","beneficio","total","texto_regimen","beneficioRegA","beneficioRegB","sueldoLiquidoConApvregB","body_eventos","sueldoLiquidoConApvregA","contactarme","EventoId","urlIngresarEvento","window","location","href","apertura_afiliado","dudas_texto","touched","errors","getFieldProps","isValid","dirty"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Head from \"next/head\";\r\nimport mujerSAC from \"../public/assets/svg/mujersac.svg\"\r\nimport ChanchitoA from \"../public/assets/svg/chanchitoa.svg\";\r\nimport ChanchitoB from \"../public/assets/svg/chanchitob.svg\"\r\nimport { Formik, useFormik, Form } from \"formik\";\r\nimport * as Yup from 'yup';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchposts } from \"../store/actions/postAction\";\r\nimport { Card, Col, Table, Spinner } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport ResultadoModal from '../components/ResultadoModal';\r\nimport MaskedInput from \"react-text-mask\";\r\nimport { dineroMask } from \"../utils/inputMask\"\r\nimport { cleanDigitos } from '../utils/cleanInputMask';\r\n\r\n\r\n\r\nexport default function Resultado(props) {\r\n\r\n    const aacento = \"\\u00e1\";\r\n    const eacento = \"\\u00e9\";\r\n    const iacento = \"\\u00ed\";\r\n    const oacento = \"\\u00f3\";\r\n    const uacento = \"\\u00fa\";\r\n    const enhe = '\\u00f1';\r\n    const interrogacion = '\\u00BF';\r\n    const comillaIzquierda = '\\u201C';\r\n    const comillaDerecha = '\\u201D';\r\n\r\n    const headers = {\r\n        \"Content-Type\": \"application/json\"\r\n    };\r\n\r\n    const [modalShow, setModalShow] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const handleClose = () => setModalShow(false);\r\n    const handleShow = () => setModalShow(true);\r\n    const [regimenData, setRegimenData] = useState({});\r\n\r\n    const initialValues = {\r\n        ahorro: ''\r\n    }\r\n\r\n\r\n    const handleSubmit = values => {\r\n        setIsLoading(true);\r\n\r\n        const nombre = regimenData.nombre !== undefined && regimenData.nombre;\r\n        const rutPrimero = regimenData.rut !== undefined && regimenData.rut;\r\n        const rutDv = regimenData.rutDv !== undefined && regimenData.rutDv;\r\n        const rut = rutPrimero + \"-\" + rutDv;\r\n        const correo = regimenData.correo !== undefined && regimenData.correo;\r\n        const celular = regimenData.celular !== undefined && regimenData.celular;\r\n        const sueldo = regimenData.sueldoLiquidoConsulta !== undefined && regimenData.sueldoLiquidoConsulta;\r\n\r\n        const body = {\r\n            nombre: nombre,\r\n            rut: rut,\r\n            correo: correo,\r\n            celular: celular,\r\n            sueldo: sueldo,\r\n            ahorro: cleanDigitos(values.ahorro)\r\n        };\r\n\r\n        axios\r\n            .post(props.urlIngresarSimulacion, body, { headers: headers })\r\n            .then((response) => {\r\n                let data = response.data;\r\n\r\n                if (data.idSimulacion) {\r\n                    setRegimenData(data);\r\n                }\r\n\r\n                setIsLoading(false);\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n    };\r\n\r\n\r\n    const validationSchema = Yup.object({\r\n        ahorro: Yup\r\n            .string()\r\n            .transform(value => value.replace(/[^\\d]/g, ''))\r\n            .matches(/^[0-9]+$/, `Ingrese el monto en pesos que desea ahorrar desde $1.000.`)\r\n            .test('Sueldo-validacion', `Ingrese un monto desde $1.000.`, function (value) {\r\n                return (value >= 1000)\r\n            })\r\n            .test('Ahorro-validacion', `El monto del ahorro no puede superar al sueldo ingresado.`, function (value) {\r\n                const sueldo = regimenData.sueldoLiquidoConsulta !== undefined && regimenData.sueldoLiquidoConsulta;\r\n                return (value <= sueldo)\r\n            })\r\n            .required('Por favor ingrese el monto que desea ahorrar desde $1.000.'),\r\n    });\r\n\r\n\r\n\r\n\r\n    const formik = useFormik({\r\n        initialValues,\r\n        handleSubmit,\r\n        validationSchema\r\n    });\r\n\r\n    useEffect(() => {\r\n        setRegimenData(props.data);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n    }, [regimenData]);\r\n\r\n\r\n    const sueldoLiquido = regimenData.sueldoLiquidoConsulta !== undefined && regimenData.sueldoLiquidoConsulta;\r\n    const ahorroMensual = regimenData.aporteApv !== undefined && regimenData.aporteApv;\r\n    let recomendacionApv = regimenData.recomendacionApv !== undefined && regimenData.recomendacionApv;\r\n    let beneficio = 0;\r\n    let total = 0;\r\n    let texto_regimen = '';\r\n\r\n    if (recomendacionApv === 'A') {\r\n\r\n        beneficio = regimenData.beneficioRegA;\r\n        total = ahorroMensual + beneficio;\r\n        texto_regimen = `En  base a tu renta mensual y el monto del aporte quieres realizar el 15% de bonificaci${oacento}n por parte del Estado es el que m${aacento}s te conviene.`\r\n    } else if (recomendacionApv === 'B') {\r\n        beneficio = regimenData.beneficioRegB;\r\n        total = regimenData.sueldoLiquidoConApvregB;\r\n        texto_regimen = `En  base a tu renta mensual y el monto del aporte quieres realizar el descuento de tu base tributaria es mayor al aporte del 15% de bonificaci${oacento}n del r${eacento}gimen A.`\r\n    }\r\n\r\n    const rutPrimero = regimenData.rut !== undefined && regimenData.rut;\r\n    const rutDv = regimenData.rutDv !== undefined && regimenData.rutDv;\r\n    const rut = rutPrimero + \"-\" + rutDv;\r\n    const body_eventos = {\r\n        \"sessionId\": \"string\",\r\n        \"eventoId\": 0,\r\n        \"result0\": regimenData.sueldoLiquidoConApvregA !== undefined && regimenData.sueldoLiquidoConApvregA,\r\n        \"result1\": regimenData.sueldoLiquidoConApvregB !== undefined && regimenData.sueldoLiquidoConApvregB,\r\n        \"result2\": 0,\r\n        \"rut\": rut\r\n    }\r\n\r\n    function contactarme() {\r\n\r\n        body_eventos.EventoId = 8;\r\n        axios\r\n            .post(props.urlIngresarEvento, body_eventos, { headers: headers })\r\n            .then((response) => {\r\n                let data = response.data;\r\n\r\n                if (data) {\r\n                    window.location.href = \"/solicitud\";\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n    }\r\n\r\n    function apertura_afiliado() {\r\n        body_eventos.EventoId = 10;\r\n\r\n        axios\r\n            .post(props.urlIngresarEvento, body_eventos, { headers: headers })\r\n            .then((response) => {\r\n                let data = response.data;\r\n\r\n                if (data) {\r\n                    window.location.href = \"https://www.afpmodelo.cl/Portal-Afiliado/Operaciones/Ahorro-Previsional-Voluntario/Mi-APV/Abrir-un-APV-Paso1.aspx?acceder&utm_source=QueAPVConviene&utm_medium=referal&utm_campaign=QueAPVConviene&utm_content=BotonAccion\";\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n    }\r\n\r\n    const dudas_texto =\r\n        `Nuestros ejecutivos pueden asesorarte en l${iacento}nea o v${iacento}a tel${eacento}fonica. Queremos ayudarte a resolver todas tus inquietudes o darte todas las opciones para tu traspaso.`;\r\n\r\n    return (\r\n        <>\r\n            <Head>\r\n                <title>Ahorro Previsional Voluntario | Resultado Simulaci{oacento}n | AFP Modelo</title>\r\n                <meta name=\"description\" content={`Aumenta tu sueldo l${iacento}quido, pagando una menor comisi${oacento}n de AFP. Simula tu aumento de sueldo al cambiarte a AFP Modelo.`} />\r\n                <meta name=\"robots\" content=\"noindex, follow\" />\r\n            </Head>\r\n            <section>\r\n                <div className=\"resultado\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 mx-auto text-center header\">\r\n                            <img\r\n                                src={recomendacionApv === 'A' ? ChanchitoA : ChanchitoB}\r\n                                alt={recomendacionApv === 'A' ? \"regimen A\" : \"regimen B\"} />\r\n                            <h1>Te recomendamos el r{eacento}gimen {recomendacionApv}</h1>\r\n                            <div className='d-flex justify-content-center'>\r\n                                <p>{texto_regimen}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6 offset-md-1 d-flex\">\r\n                            <Card>\r\n                                <Card.Body>\r\n                                    <Card.Text>Estos son los datos de tu simulaci{oacento}n:</Card.Text>\r\n                                    {isLoading ?\r\n                                        <div className=\"w-100 d-flex justify-content-center align-items-center flex-column\">\r\n                                            <Spinner animation=\"border\" role=\"status\" variant=\"success\">\r\n                                                <span className=\"sr-only\">Loading...</span>\r\n                                            </Spinner>\r\n                                            <span>Calculando...</span>\r\n                                        </div>\r\n                                        : <>\r\n                                            <Table responsive\r\n                                                   className=\"table-borderless\"\r\n                                            >\r\n                                                <thead>\r\n                                                <tr>\r\n                                                    <th>{''}</th>\r\n                                                    <th className=\"text-right\">{''}</th>\r\n                                                </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                <tr>\r\n                                                    <td>Rentabilidad AFP Actual:</td>\r\n                                                    <td className=\"text-right\">Valor A</td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td>Rentabilidad AFP Modelo:</td>\r\n                                                    <td className=\"text-right\">Valor B</td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td className=\"green-tabla\">Diferencia de rentabilidad:</td>\r\n                                                    <td className=\"text-right green-tabla\">Valor C</td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td>Ahorro en comisi{oacento}n</td>\r\n                                                    <td className=\"text-right\">VD = (VA-(VB-VC))</td>\r\n                                                </tr>\r\n                                                </tbody>\r\n                                            </Table>\r\n                                        </>\r\n                                    }\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </div>\r\n                        <div className=\"col-md-4 d-flex flex-column calcularApv\">\r\n                            <div className=\"row\">\r\n                                <Card>\r\n                                    <Card.Header><p>Calcular tu APV con otro monto:</p></Card.Header>\r\n                                    <Card.Body>\r\n                                        <Formik\r\n                                            initialValues={initialValues}\r\n                                            onSubmit={handleSubmit}\r\n                                            validationSchema={validationSchema}\r\n                                        >\r\n                                            {(formik) => (\r\n                                                <Form className='form-inline'>\r\n                                                    <div className=\"form-group input-wrapper d-block\">\r\n                                                        <MaskedInput\r\n                                                            type=\"text\"\r\n                                                            mask={dineroMask}\r\n                                                            className={`form-control form-control-lg ${formik.touched.ahorro ? (formik.errors.ahorro ? \"is-invalid\" : \"is-valid\") : \"\"}`}\r\n                                                            id=\"ahorro\"\r\n                                                            name=\"ahorro\"\r\n                                                            aria-describedby=\"ahorroAyuda\"\r\n                                                            placeholder=\"Ahorro Mensual\"\r\n                                                            {...formik.getFieldProps('ahorro')}\r\n                                                        />\r\n                                                        <small\r\n                                                            id=\"ahorroAyuda\"\r\n                                                            className={`form-text ${formik.touched.ahorro && formik.errors.ahorro && 'is-invalid'}`}\r\n                                                        >\r\n                                                            {formik.touched.ahorro && formik.errors.ahorro}\r\n                                                        </small>\r\n                                                    </div>\r\n                                                    <div className=\"d-flex justify-content-center\">\r\n                                                        <div className=\"col justify-content-center d-flex\">\r\n                                                            <button\r\n                                                                type=\"submit\"\r\n                                                                id=\"calcular\"\r\n                                                                className=\"volver\"\r\n                                                                disabled={!(formik.isValid && formik.dirty)}\r\n                                                            >\r\n                                                                Calcular\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Form>\r\n                                            )}\r\n                                        </Formik>\r\n                                    </Card.Body>\r\n                                </Card>\r\n                            </div>\r\n                            <div className=\"row detalle\">\r\n                                <small>*Renta tributable contempla descuentos legales, ahorro al fondo de pensiones (10%), comisi{oacento}n AFP Modelo (0,77%) y salud (7%).**Bonificaci{oacento}n fiscal de un 15% de tu ahorro voluntario mensual con un tope de 6 UTM anuales.</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='row ctas'>\r\n                        <div className=\"col-md-4 text-center d-block offset-md-2 container\">\r\n                            <p>{interrogacion}Eres afiliado? Haz login para comenzar tu proceso de apertura</p>\r\n                            <div className='d-flex justify-content-center'>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    id=\"Apertura_Afiliado\"\r\n                                    className=\"btn btn-lg btn-block\"\r\n                                    onClick={apertura_afiliado}\r\n                                >Abrir mi APV</button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-md-5 text-center d-block container\">\r\n                            <p>{interrogacion}No eres afiliado? Nuestros ejecutivos te contactaran para asesorarte en la apertura.</p>\r\n                            <div className='d-flex justify-content-center'>\r\n                                <button type=\"button\" id=\"Apertura_no_Afiliado\" className=\"btn btn-lg btn-block blueBtn\" onClick={contactarme}>Solicitar contacto</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row container-padre dudas\">\r\n                        <div className=\"col-md-2 d-flex desktop\">\r\n                            <img src={mujerSAC} alt=\"Dudas\" />\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-md-6 offset-md-2 d-flex flex-column contenedor\">\r\n                            <div className=\"txtDesktop parrafo2\">\r\n                                <div className=\"container-title\">\r\n                                    <h2>{interrogacion}A{uacento}n tienes dudas?</h2>\r\n                                    <p>{dudas_texto}</p>\r\n                                    <button type=\"button\" id=\"Solicitud_Contacto\" className=\"btn btn-lg btn-block whiteBtn\" onClick={contactarme}>Quiero que me contacten</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </>\r\n    );\r\n}\r\n\r\nexport async function getServerSideProps(context) {\r\n    const uriBackend = process.env.URI_BACKEND;\r\n    const urlIngresarSimulacion = `${uriBackend}${process.env.URI_INGRESAR_SIMULACION}`;\r\n    const urlIngresarEvento = `${uriBackend}${process.env.URI_ENVIAR_EVENTO}`\r\n    const { id } = context.query;\r\n\r\n    /*\r\n    const response = await axios\r\n        .get(`${uriBackend}${process.env.URI_OBTENER_SIMULACION}?id=${id}`)\r\n\r\n    const data = await response.data\r\n    */\r\n    const props = {\r\n        //data,\r\n        urlIngresarSimulacion,\r\n        urlIngresarEvento\r\n    }\r\n\r\n    return { props: props }\r\n}"]},"metadata":{},"sourceType":"module"}